import{z as h,A as x,C as k,o,j as w,p as e,D as n,E as r,n as t,q as i,w as U,F as B,H as E,G as I,I as C,J as N,d as P}from"./index-RXb675uG.js";import{s as u}from"./index-9HJxIO96.js";import{U as b}from"./UserService-CnPDSVq0.js";const F={key:0,class:"flex flex-col md:flex-row gap-8"},$={class:"card flex flex-col md:flex-row gap-8 w-full"},D={class:"card flex flex-col items-center"},L={class:"flex flex-col gap-4 w-full"},S={class:"flex flex-col md:flex-row gap-4"},z={class:"flex flex-wrap gap-2 w-full"},R={class:"flex flex-wrap gap-2 w-full"},T={class:"flex flex-col md:flex-row gap-4"},j={class:"flex flex-wrap gap-2 w-full"},q={class:"flex flex-wrap gap-2 w-full"},A={class:"flex flex-col md:flex-row gap-4"},G={class:"flex flex-wrap gap-2 w-full"},H={class:"flex flex-wrap gap-2 w-full"},J={class:"flex flex-col md:flex-row gap-4"},M={class:"flex flex-wrap gap-2 w-full"},K={class:"flex flex-wrap gap-2 w-full"},O={class:"flex flex-col md:flex-row gap-4 mt-8"},Q={class:"flex flex-wrap gap-2"},W={class:"flex flex-col md:flex-row gap-8"},X={class:"card flex flex-col md:flex-row gap-8 w-full"},Y={class:"card flex flex-col items-center"},Z={class:"flex flex-col gap-4 w-full"},ll={class:"flex flex-col md:flex-row gap-4"},el={class:"flex flex-wrap gap-2 w-full"},al={class:"flex flex-wrap gap-2 w-full"},sl={class:"flex flex-col md:flex-row gap-4"},ol={class:"flex flex-wrap gap-2 w-full"},tl={class:"flex flex-wrap gap-2 w-full"},dl={class:"flex flex-col md:flex-row gap-4"},il={class:"flex flex-wrap gap-2 w-full"},rl={class:"flex flex-wrap gap-2 w-full"},nl={class:"flex flex-col md:flex-row gap-4"},ul={class:"flex flex-wrap gap-2 w-full"},fl={class:"flex flex-wrap gap-2 w-full"},ml={class:"flex flex-col md:flex-row gap-4 mt-8"},pl={class:"flex flex-wrap gap-2"},wl=h({__name:"UserProfile",setup(xl){const a=x(null),v=x(!1),p=x(!1),d=x(!1),c=()=>{d.value=!d.value},_=async()=>{p.value=!0;try{a.value?await b.updateUser(a.value):console.error("User data is null")}catch(m){console.error("Error al actualizar el usuario:",m)}finally{p.value=!1,c()}};return k(async()=>{try{const m=Number(localStorage.getItem("userId")),l=await b.getUserById(m);a.value=l,v.value=!0}catch(m){console.error(m.response?"Error al obtener al usuario:":"Token no encontrado en localStorage",m)}}),(m,l)=>{const y=C,f=N,g=P,V=E;return o(),w(B,null,[v.value?t("",!0):(o(),w("div",F,[e("div",$,[e("div",D,[l[8]||(l[8]=e("div",{class:"font-semibold text-2xl mb-4"},"Profile",-1)),n(r(u),{shape:"circle",size:"15rem"})]),e("div",L,[e("div",S,[e("div",z,[l[9]||(l[9]=e("label",{for:"firstname"},"Firstname",-1)),n(r(u),{class:"mb-2",height:"2.5rem"})]),e("div",R,[l[10]||(l[10]=e("label",{for:"lastname"},"Lastname",-1)),n(r(u),{class:"mb-2",height:"2.5rem"})])]),e("div",T,[e("div",j,[l[11]||(l[11]=e("label",{for:"username"},"Username",-1)),n(r(u),{class:"mb-2",height:"2.5rem"})]),e("div",q,[l[12]||(l[12]=e("label",{for:"email"},"Email",-1)),n(r(u),{class:"mb-2",height:"2.5rem"})])]),e("div",A,[e("div",G,[l[13]||(l[13]=e("label",{for:"ruc"},"RUC",-1)),n(r(u),{class:"mb-2",height:"2.5rem"})]),e("div",H,[l[14]||(l[14]=e("label",{for:"phone"},"Phone",-1)),n(r(u),{class:"mb-2",height:"2.5rem"})])]),e("div",J,[e("div",M,[l[15]||(l[15]=e("label",{for:"birthdate"},"Birthdate",-1)),n(r(u),{class:"mb-2",height:"2.5rem"})]),e("div",K,[l[16]||(l[16]=e("label",{for:"location"},"Location",-1)),n(r(u),{class:"mb-2",height:"2.5rem"})])]),e("div",O,[e("div",Q,[n(r(u),{width:"10rem",height:"2.5rem"})])])])])])),v.value?(o(),i(V,{key:1},{default:U(()=>[e("div",W,[e("div",X,[e("div",Y,[l[17]||(l[17]=e("div",{class:"font-semibold text-2xl mb-4"},"Profile",-1)),a.value?(o(),i(y,{key:0,src:`${r(I)}`+a.value.photo,alt:"Image",width:"250"},null,8,["src"])):t("",!0)]),e("div",Z,[e("div",ll,[e("div",el,[l[18]||(l[18]=e("label",{for:"firstname"},"Firstname",-1)),a.value?(o(),i(f,{key:0,id:"firstname",type:"text",disabled:!d.value,modelValue:a.value.firstName,"onUpdate:modelValue":l[0]||(l[0]=s=>a.value.firstName=s)},null,8,["disabled","modelValue"])):t("",!0)]),e("div",al,[l[19]||(l[19]=e("label",{for:"lastname"},"Lastname",-1)),a.value?(o(),i(f,{key:0,id:"lastname",type:"text",disabled:!d.value,modelValue:a.value.lastName,"onUpdate:modelValue":l[1]||(l[1]=s=>a.value.lastName=s)},null,8,["disabled","modelValue"])):t("",!0)])]),e("div",sl,[e("div",ol,[l[20]||(l[20]=e("label",{for:"username"},"Username",-1)),a.value?(o(),i(f,{key:0,id:"username",type:"text",disabled:!d.value,modelValue:a.value.user_name,"onUpdate:modelValue":l[2]||(l[2]=s=>a.value.user_name=s)},null,8,["disabled","modelValue"])):t("",!0)]),e("div",tl,[l[21]||(l[21]=e("label",{for:"email"},"Email",-1)),a.value?(o(),i(f,{key:0,id:"email",type:"text",disabled:!d.value,modelValue:a.value.email,"onUpdate:modelValue":l[3]||(l[3]=s=>a.value.email=s)},null,8,["disabled","modelValue"])):t("",!0)])]),e("div",dl,[e("div",il,[l[22]||(l[22]=e("label",{for:"ruc"},"RUC",-1)),a.value?(o(),i(f,{key:0,id:"ruc",type:"text",disabled:!d.value,modelValue:a.value.ruc,"onUpdate:modelValue":l[4]||(l[4]=s=>a.value.ruc=s)},null,8,["disabled","modelValue"])):t("",!0)]),e("div",rl,[l[23]||(l[23]=e("label",{for:"phone"},"Phone",-1)),a.value?(o(),i(f,{key:0,id:"phone",type:"text",disabled:!d.value,modelValue:a.value.phone,"onUpdate:modelValue":l[5]||(l[5]=s=>a.value.phone=s)},null,8,["disabled","modelValue"])):t("",!0)])]),e("div",nl,[e("div",ul,[l[24]||(l[24]=e("label",{for:"birthdate"},"Birthdate",-1)),a.value?(o(),i(f,{key:0,id:"birthdate",type:"text",disabled:!d.value,modelValue:a.value.birthDate,"onUpdate:modelValue":l[6]||(l[6]=s=>a.value.birthDate=s)},null,8,["disabled","modelValue"])):t("",!0)]),e("div",fl,[l[25]||(l[25]=e("label",{for:"location"},"Location",-1)),a.value?(o(),i(f,{key:0,id:"location",type:"text",disabled:!d.value,modelValue:a.value.location,"onUpdate:modelValue":l[7]||(l[7]=s=>a.value.location=s)},null,8,["disabled","modelValue"])):t("",!0)])]),e("div",ml,[e("div",pl,[d.value?t("",!0):(o(),i(g,{key:0,type:"button",class:"mr-2 mb-2",label:"Edit Information",icon:"pi pi-pencil",iconPos:"left",loading:p.value,onClick:c},null,8,["loading"])),d.value?(o(),i(g,{key:1,type:"button",class:"mr-2 mb-2",label:"Save changes",icon:"pi pi-save",iconPos:"left",loading:p.value,onClick:_},null,8,["loading"])):t("",!0)])])])])])]),_:1})):t("",!0)],64)}}});export{wl as default};
