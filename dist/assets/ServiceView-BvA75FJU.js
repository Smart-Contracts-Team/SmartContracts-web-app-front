import{s as U}from"./index-e7X01tEO.js";import{s as F,a as P}from"./index-BO8iARIq.js";import{s as j}from"./index-BWVrtxJk.js";import{s as A,a as E}from"./index-CJ-qif5I.js";import{s as M}from"./index-CF06nafu.js";import{s as R}from"./index-BS9PyoXu.js";import{l as f,d as Y,r as b,o as q,a as l,j as y,w as g,e as t,b as c,t as i,g as n,u as I,s as B,f as v}from"./index-BOLqcSEh.js";import{S as z}from"./ServiceService-CBhGqO04.js";import{U as G}from"./UserService-DRNCzvA6.js";import"./index-Drdwsc4b.js";import"./index-B-AtP0Qz.js";import"./PhotoService-CD1hVyHq.js";import"./index-QI8tLig9.js";import"./index-De1zXoXx.js";import"./index-B7xLH8pZ.js";import"./index-uRgZIMb9.js";import"./index-DDgVDk_4.js";import"./index-Ck9ebPBA.js";const m="/task",H={async getTaskById(o){return(await f.get(`${m}/${o}`)).data},async getTasksByServiceId(o){return(await f.get(`service/${m}/${o}`)).data},async createTask(o){return(await f.post(`${m}`,o)).data},async updateTask(o,r){return(await f.put(`${m}/${o}`,r)).data},async deleteTask(o){return(await f.delete(`${m}/${o}`)).data}},J={class:"flex flex-col md:flex-row gap-8"},K={class:"card flex flex-col md:flex-row gap-8 w-full"},L={class:"flex flex-col gap-4 w-full"},O={class:"flex flex-wrap gap-2 w-full"},Q={key:0,id:"name",type:"text",for:"name",class:"font-bold text-2xl mb-8"},W={class:"flex flex-col gap-4 w-full"},X={class:"flex items-center gap-2"},Z={class:"flex flex-wrap gap-2 w-full"},ee={key:0,id:"description",type:"text"},te={class:"flex flex-wrap gap-2 w-full"},se={key:0,id:"category",type:"text"},ae={class:"flex flex-wrap gap-2 w-full"},oe={key:0,id:"price",type:"text"},le={class:"flex flex-wrap gap-2 w-full align-items-center"},re={class:"flex flex-wrap gap-2 w-full"},ne={key:0,id:"startDate",type:"text"},ie={class:"flex flex-wrap gap-2 w-full"},ce={key:0,id:"finalDate",type:"text"},de={class:"flex flex-wrap gap-2 w-full"},pe={class:"flex flex-col gap-8 w-full"},ue={class:"card w-full mt-8"},fe={class:"flex flex-wrap items-center justify-between gap-2"},ve={class:"font-bold"},Ue=Y({__name:"ServiceView",props:{serviceId:{}},setup(o){const r=b([]),s=b(null),d=b(null),k=o;q(async()=>{try{const a=await z.getServiceById(k.serviceId);if(s.value=a,a!=null&&a.userId){const p=await G.getUserById(a.userId);d.value=p}const e=await H.getTasksByServiceId(k.serviceId);r.value=e}catch(a){console.error("Error al obtener los datos:",a)}});const $=a=>{const e=new Date(a),p=e.getDate().toString().padStart(2,"0"),w=(e.getMonth()+1).toString().padStart(2,"0"),x=e.getFullYear();return`${p}/${w}/${x}`},h=a=>{switch(a){case"done":return{severity:"success",label:"Done"};case"active":return{severity:"success",label:"Active"};case"to-do":return{severity:"warn",label:"To-Do"};case"inactive":return{severity:"warn",label:"Inactive"};case"in-process":return{severity:"secondary",label:"In Process"};case"pending":return{severity:"secondary",label:"Pending"};default:return{severity:"secondary",label:"Undefined"}}};return(a,e)=>{const p=R,w=M,x=A,T=E,C=j,S=F,N=P,V=U;return l(),y(V,null,{default:g(()=>{var D;return[t("div",J,[t("div",K,[t("div",L,[t("div",O,[s.value?(l(),c("label",Q,i(s.value.name),1)):n("",!0),s.value?(l(),y(p,{key:1,src:`${I(B)}${s.value.photo}`,alt:s.value.name,width:"450"},null,8,["src","alt"])):n("",!0)])]),t("div",W,[e[10]||(e[10]=t("div",{class:"flex flex-wrap gap-2 w-full mb-8"},null,-1)),t("div",X,[v(w,{image:`${I(B)}`+((D=d.value)==null?void 0:D.photo),shape:"circle",class:"cursor-pointer",onClick:e[0]||(e[0]=_=>{var u;return a.$router.push("/user-information/"+((u=s.value)==null?void 0:u.userId))})},null,8,["image"]),d.value?(l(),c("span",{key:0,id:"influencer",class:"cursor-pointer",type:"text",onClick:e[1]||(e[1]=_=>{var u;return a.$router.push("/user-information/"+((u=s.value)==null?void 0:u.userId))})},i(d.value.firstName)+" "+i(d.value.lastName),1)):n("",!0)]),t("div",Z,[e[3]||(e[3]=t("label",{for:"description",class:"font-bold"},"Description:",-1)),s.value?(l(),c("p",ee,i(s.value.description),1)):n("",!0)]),t("div",te,[e[4]||(e[4]=t("label",{for:"category",class:"font-bold"},"Category:",-1)),s.value?(l(),c("p",se,i(s.value.category),1)):n("",!0)]),t("div",ae,[e[5]||(e[5]=t("label",{for:"price",class:"font-bold"},"Price:",-1)),s.value?(l(),c("p",oe,"$"+i(s.value.price),1)):n("",!0)]),t("div",le,[e[6]||(e[6]=t("label",{for:"stars",class:"font-bold"},"Stars:",-1)),s.value?(l(),y(x,{key:0,modelValue:s.value.stars,"onUpdate:modelValue":e[2]||(e[2]=_=>s.value.stars=_),readonly:""},null,8,["modelValue"])):n("",!0)]),t("div",re,[e[7]||(e[7]=t("label",{for:"startDate",class:"font-bold"},"Start Date:",-1)),s.value?(l(),c("p",ne,i($(s.value.startDate)),1)):n("",!0)]),t("div",ie,[e[8]||(e[8]=t("label",{for:"finalDate",class:"font-bold"},"Final Date:",-1)),s.value?(l(),c("p",ce,i($(s.value.finalDate)),1)):n("",!0)]),t("div",de,[e[9]||(e[9]=t("label",{for:"state",class:"font-bold"},"Status:",-1)),s.value?(l(),y(T,{key:0,value:h(s.value.state).label,severity:h(s.value.state).severity},null,8,["value","severity"])):n("",!0)])])])]),t("div",pe,[t("div",ue,[v(N,{value:r.value,tableStyle:"min-width: 50rem",stripedRows:""},{header:g(()=>[t("div",fe,[e[11]||(e[11]=t("span",{class:"text-xl font-bold"},"Tasks:",-1)),v(C,{icon:"pi pi-refresh",rounded:"",raised:""})])]),footer:g(()=>[t("span",ve,"In total there are "+i(r.value?r.value.length:0)+" tasks.",1)]),default:g(()=>[v(S,{field:"taskName",header:"Name"}),v(S,{field:"description",header:"Description"})]),_:1},8,["value"])])])]}),_:1})}}});export{Ue as default};
