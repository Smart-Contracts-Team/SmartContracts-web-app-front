import{s as b}from"./index-7jZXrWGf.js";import{s as f}from"./index-BQ82LSVU.js";import{d as _,r as i,o as x,a as g,c as h,b as e,e as r,w as m,F as S,u as p,s as v,t as n,_ as k}from"./index-o2anLdNF.js";import{S as y}from"./ServiceService-CXl9STlF.js";import{U as w}from"./UserService-CUGCGzV2.js";import"./index-mbz8WqPB.js";import"./index-CrJWY7mn.js";import"./PhotoService-Cjq5erfy.js";const B={class:"card"},V={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4 flex flex-col h-full"},$={class:"mb-4 flex-grow"},C={class:"relative mx-auto image-container"},I=["src","alt"],N={class:"mb-4 font-medium flex-grow"},O={class:"flex justify-between items-center mt-auto"},U={class:"mt-0 font-semibold text-xl"},E={class:"card"},j={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},z={class:"mb-3"},F={class:"relative mx-auto image-container"},M=["src","alt"],T={class:"mb-4 font-semibold text-xl"},D={class:"flex justify-between items-center"},R=_({__name:"home",setup(q){const l=i([]),c=i([]),d=i([{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]);return x(async()=>{try{const t=Number(localStorage.getItem("userId")),s=await y.getServicesByUserId(t);l.value=s}catch(t){console.error(t.response?"Error al obtener los servicios:":"Token no encontrado en localStorage",t)}try{c.value=await w.getUserByType("Business")}catch(t){console.error("Error al obtener las empresas:",t)}}),(t,s)=>{const a=f,u=b;return g(),h(S,null,[e("div",B,[s[1]||(s[1]=e("div",{class:"font-semibold text-xl mb-4"},"Mis Servicios Populares",-1)),r(u,{value:l.value,numVisible:3,numScroll:3,responsiveOptions:d.value},{item:m(o=>[e("div",V,[e("div",$,[e("div",C,[e("img",{src:`${p(v)}`+o.data.photo,alt:o.data.name,class:"w-full rounded service-image-size"},null,8,I),s[0]||(s[0]=e("div",{class:"dark:bg-surface-900 absolute rounded-border",style:{left:"5px",top:"5px"}},null,-1))])]),e("div",N,n(o.data.description),1),e("div",O,[e("div",U,"$"+n(o.data.price),1),e("span",null,[r(a,{icon:"pi pi-plus",label:"View more",class:"ml-2",onClick:A=>t.$router.push(`/tasks/service/${o.data.id}`)},null,8,["onClick"])])])])]),_:1},8,["value","responsiveOptions"])]),e("div",E,[s[4]||(s[4]=e("div",{class:"font-semibold text-xl mb-4"},"Empresas Populares",-1)),r(u,{value:c.value,numVisible:3,numScroll:3,responsiveOptions:d.value},{item:m(o=>[e("div",j,[e("div",z,[e("div",F,[e("img",{src:`${p(v)}`+o.data.photo,alt:o.data.firstName,class:"w-full rounded business-image-size"},null,8,M),s[2]||(s[2]=e("div",{class:"dark:bg-surface-900 absolute rounded-border",style:{left:"5px",top:"5px"}},null,-1))])]),e("div",T,n(o.data.firstName),1),e("div",D,[s[3]||(s[3]=e("div",{class:"mt-0 font-semibold text-xl"},null,-1)),e("span",null,[r(a,{icon:"pi pi-heart",severity:"secondary",outlined:""}),r(a,{icon:"pi pi-shopping-cart",class:"ml-2"})])])])]),_:1},8,["value","responsiveOptions"])])],64)}}}),Y=k(R,[["__scopeId","data-v-047ca77f"]]);export{Y as default};
