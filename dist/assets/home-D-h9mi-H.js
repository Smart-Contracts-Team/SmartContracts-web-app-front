import{s as B}from"./index--PIHlcyz.js";import{s as C}from"./index-BWVrtxJk.js";import{d as I,r as a,o as U,c as O,a as l,b as i,e,f as r,w as v,g as b,F as E,u as f,s as _,t as c,_ as T}from"./index-BOLqcSEh.js";import{S as N}from"./ServiceService-CBhGqO04.js";import{U as x}from"./UserService-DRNCzvA6.js";import"./PhotoService-CD1hVyHq.js";import"./index-Nbino4Gd.js";import"./index-De1zXoXx.js";const j={key:0,class:"card"},z={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4 flex flex-col h-full"},F={class:"mb-4 flex-grow"},M={class:"relative mx-auto image-container"},D=["src","alt"],R={class:"mb-4 font-medium flex-grow"},q={class:"flex justify-between items-center mt-auto"},A={class:"mt-0 font-semibold text-xl"},G={key:1,class:"card"},H={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},J={class:"mb-3"},K={class:"relative mx-auto image-container"},L=["src","alt"],Q={class:"mb-4 font-semibold text-xl"},W={class:"flex justify-between items-center"},X={key:2,class:"card"},Y={class:"border border-surface-200 dark:border-surface-700 rounded m-2 p-4"},Z={class:"mb-3"},P={class:"relative mx-auto image-container"},ee=["src","alt"],se={class:"mb-4 font-semibold text-xl"},oe={class:"flex justify-between items-center"},te=I({__name:"home",setup(re){const g=Number(localStorage.getItem("userId")),n=a(null),y=a([]),k=a([]),h=a([]),u=a([{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]);U(async()=>{await S(),await $(),await V(g)});async function S(){try{const t=await N.getServicesByUserId(g);y.value=t}catch(t){console.error(t.response?"Error al obtener los servicios:":"Token no encontrado en localStorage",t)}}async function $(){try{k.value=await x.getUserByType("Business")}catch(t){console.error("Error al obtener las empresas:",t)}try{h.value=await x.getUserByType("Influencer")}catch(t){console.error("Error al obtener las empresas:",t)}}async function V(t){try{const s=await x.getUserById(t);n.value=s}catch(s){console.error(s.response?"Error al obtener al usuario:":"Token no encontrado en localStorage",s)}}const d=O(()=>(console.log("user:",n),n.value&&n.value.typeOfUser==="Influencer"));return(t,s)=>{const m=C,p=B;return l(),i(E,null,[d.value?(l(),i("div",j,[s[1]||(s[1]=e("div",{class:"font-semibold text-xl mb-4"},"Mis Servicios Populares",-1)),r(p,{value:y.value,numVisible:3,numScroll:3,responsiveOptions:u.value},{item:v(o=>[e("div",z,[e("div",F,[e("div",M,[e("img",{src:`${f(_)}`+o.data.photo,alt:o.data.name,class:"w-full rounded service-image-size"},null,8,D),s[0]||(s[0]=e("div",{class:"dark:bg-surface-900 absolute rounded-border",style:{left:"5px",top:"5px"}},null,-1))])]),e("div",R,c(o.data.description),1),e("div",q,[e("div",A,"$"+c(o.data.price),1),e("span",null,[r(m,{icon:"pi pi-plus",label:"View more",class:"ml-2",onClick:w=>t.$router.push(`/tasks/service/${o.data.id}`)},null,8,["onClick"])])])])]),_:1},8,["value","responsiveOptions"])])):b("",!0),d.value?(l(),i("div",G,[s[4]||(s[4]=e("div",{class:"font-semibold text-xl mb-4"},"Empresas Populares",-1)),r(p,{value:k.value,numVisible:3,numScroll:3,responsiveOptions:u.value},{item:v(o=>[e("div",H,[e("div",J,[e("div",K,[e("img",{src:`${f(_)}`+o.data.photo,alt:o.data.user_name,class:"w-full rounded business-image-size"},null,8,L),s[2]||(s[2]=e("div",{class:"dark:bg-surface-900 absolute rounded-border",style:{left:"5px",top:"5px"}},null,-1))])]),e("div",Q,c(o.data.user_name),1),e("div",W,[s[3]||(s[3]=e("div",{class:"mt-0 font-semibold text-xl"},null,-1)),e("span",null,[r(m,{icon:"pi pi-plus",label:"View more",class:"ml-2",onClick:w=>t.$router.push(`/user-information/${o.data.id}`)},null,8,["onClick"])])])])]),_:1},8,["value","responsiveOptions"])])):b("",!0),d.value?b("",!0):(l(),i("div",X,[s[7]||(s[7]=e("div",{class:"font-semibold text-xl mb-4"},"Influencers Populares",-1)),r(p,{value:h.value,numVisible:3,numScroll:3,responsiveOptions:u.value},{item:v(o=>[e("div",Y,[e("div",Z,[e("div",P,[e("img",{src:`${f(_)}`+o.data.photo,alt:o.data.user_name,class:"w-full rounded business-image-size"},null,8,ee),s[5]||(s[5]=e("div",{class:"dark:bg-surface-900 absolute rounded-border",style:{left:"5px",top:"5px"}},null,-1))])]),e("div",se,c(o.data.user_name),1),e("div",oe,[s[6]||(s[6]=e("div",{class:"mt-0 font-semibold text-xl"},null,-1)),e("span",null,[r(m,{icon:"pi pi-plus",label:"View more",class:"ml-2",onClick:w=>t.$router.push(`/user-information/${o.data.id}`)},null,8,["onClick"])])])])]),_:1},8,["value","responsiveOptions"])]))],64)}}}),pe=T(te,[["__scopeId","data-v-84526231"]]);export{pe as default};
